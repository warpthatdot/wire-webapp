{"version":3,"sources":["webpack://StoreEngine/webpack/bootstrap","webpack://StoreEngine/./dist/commonjs/index.js","webpack://StoreEngine/./dist/commonjs/engine/error/index.js","webpack://StoreEngine/./dist/commonjs/engine/EnvironmentUtil.js","webpack://StoreEngine/external \"Dexie\"","webpack://StoreEngine/./dist/commonjs/engine/error/RecordAlreadyExistsError.js","webpack://StoreEngine/./dist/commonjs/engine/error/RecordNotFoundError.js","webpack://StoreEngine/./dist/commonjs/store/TransientBundle.js","webpack://StoreEngine//home/travis/build/wireapp/wire-web-packages/node_modules/bro-fs/dist/bro-fs.js","webpack://StoreEngine/./dist/commonjs/engine/index.js","webpack://StoreEngine/./dist/commonjs/engine/FileEngine.js","webpack://StoreEngine/external \"{}\"","webpack://StoreEngine/./dist/commonjs/engine/error/LowDiskSpaceError.js","webpack://StoreEngine/./dist/commonjs/engine/error/PathValidationError.js","webpack://StoreEngine/./dist/commonjs/engine/error/RecordTypeError.js","webpack://StoreEngine/./dist/commonjs/engine/error/UnsupportedError.js","webpack://StoreEngine/./dist/commonjs/engine/FileSystemEngine.js","webpack://StoreEngine/./dist/commonjs/engine/IndexedDBEngine.js","webpack://StoreEngine/(webpack)/buildin/global.js","webpack://StoreEngine/./dist/commonjs/engine/LocalStorageEngine.js","webpack://StoreEngine/./dist/commonjs/engine/MemoryEngine.js","webpack://StoreEngine/./dist/commonjs/store/index.js","webpack://StoreEngine/./dist/commonjs/store/ExpiredBundle.js","webpack://StoreEngine/./dist/commonjs/store/TransientStore.js","webpack://StoreEngine//home/travis/build/wireapp/wire-web-packages/node_modules/events/events.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","engine_1","error_1","store_1","FileEngine","FileSystemEngine","IndexedDBEngine","LocalStorageEngine","MemoryEngine","Store","ExpiredBundle","RecordAlreadyExistsError","TransientBundle","TransientStore","error","LowDiskSpaceError","PathValidationError","RecordNotFoundError","RecordTypeError","UnsupportedError","LowDiskSpaceError_1","default","PathValidationError_1","RecordAlreadyExistsError_1","RecordNotFoundError_1","RecordTypeError_1","UnsupportedError_1","isBrowser","window","Dexie","extendStatics","__extends","this","b","setPrototypeOf","__proto__","Array","__","constructor","_super","message","_this","code","stack","Error","expires","factory","configurable","promiseCall","obj","method","args","slice","arguments","Promise","resolve","reject","callback","length","getCallback","errback","err","e","argsStr","JSON","stringify","ex","join","getErrback","fullArgs","concat","apply","parsePath","path","parts","splitPath","fileName","pop","dirPath","undefined","replace","endsWith","split","filter","Boolean","isNotFoundError","isTypeMismatchError","root","type","set","newRoot","newType","getType","utils","errors","options","isDirectory","DOMError","reduce","res","dirName","then","dir","task","parent","getChildDir","catch","exclusive","createChildDir","read","createReader","readDeep","entries","tasks","map","entry","subEntries","assign","children","all","_slicedToArray","arr","isArray","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","sliceIterator","TypeError","file","directory","stat","quota","moveOrCopy","oldPath","newPath","_utils$parsePath","newParentDirPath","newName","getEntry","_ref","_ref2","enrty","newParent","isSupported","webkitRequestFileSystem","init","PERSISTENT","bytes","TEMPORARY","assertType","shouldRequestQuota","requestQuota","requestPersistent","grantedBytes","fs","usage","getRoot","readFile","fileEntry","writeFile","data","overwrite","write","append","appendFile","unlink","rename","copy","rmdir","mkdir","exists","readdir","deep","clear","getUrl","toURL","createReadStream","createWriteStream","getMimeTypeByData","createChildFile","getChildFile","isFile","fileWriter","seek","onwriteend","truncated","truncate","position","onerror","blob","Blob","Response","freezeMutableFile","reader","FileReader","onload","result","readAsArrayBuffer","readAsBinaryString","readAsDataURL","readAsText","readAs","TransformStream","readable","writable","body","pipeTo","abort","WritableStream","start","_this2","close","_this3","metadata","fullPath","modificationTime","size","getStorageByType","navigator","webkitPersistentStorage","webkitTemporaryStorage","storage","usedBytes","FileEngine_1","FileSystemEngine_1","IndexedDBEngine_1","LocalStorageEngine_1","MemoryEngine_1","__assign","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","__generator","f","y","g","_","label","sent","trys","ops","verb","throw","return","v","op","EnvironmentUtil_1","baseDirectory","storeName","fileExtension","_a","enforcePathRestrictions","ensureDir","purge","remove","givenTrustedRoot","givenPath","trustedRoot","trustedRootDetails","parse","base","unsafePath","startsWith","resolvePath","tableName","primaryKey","tableNamePath","entity","filePath","toString","flag","outputFile","delete","deleteAll","encoding","readAll","files","promises","basename","extname","records","readAllPrimaryKeys","fileNames","additions","record","updatedRecord","update","changes","updateOrCreate","TEN_MEGABYTES","config","fileSystem","createDirectoryPath","createFilePath","primaryKeys","primaryKeys_1","primaryKeys_2","directoryPath","names","name_1","nameWithoutExtension","_b","sort","substr","indexOf","global","dexie_1","canUseIndexedDB","platform","DBOpenRequest","indexedDB","open","onsuccess","deleteRequest","deleteDatabase","hasEnoughQuota","errorMessage","estimate","assignDb","initWithDb","db","add","ConstraintError","message_1","AbortError","message_2","toArray","toCollection","keys","updatedRecords","put","Function","eval","localStorage","createKey","key_1","setItem","String","removeItem","forEach","prefix","getItem","updatedEntity","stores","prepareTable","ExpiredBundle_1","TransientBundle_1","TransientStore_1","cacheKey","events_1","engine","bundles","cacheKeys","readBundles","constructCacheKey","index","bundle","_c","startTimer","constructPrimaryKey","createTransientBundle","ttl","Date","now","payload","getFromCache","cachedBundle","getFromStore","cacheBundle","save","saveInCache","saveInStore","deleteFromStore","deleteFromCache","timeoutID","clearTimeout","expireBundle","expiredBundle","timespan","setTimeout","emit","TOPIC","EXPIRED","EventEmitter","_events","_maxListeners","isFunction","arg","isObject","isUndefined","defaultMaxListeners","setMaxListeners","isNaN","er","handler","len","listeners","context","addListener","listener","newListener","warned","console","trace","on","once","fired","removeListener","list","splice","removeAllListeners","listenerCount","evlistener","emitter"],"mappings":"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","file":"store-engine.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\";\nvar engine_1 = require(\"./engine/\");\nvar error_1 = require(\"./engine/error/\");\nvar store_1 = require(\"./store/\");\nmodule.exports = {\n    FileEngine: engine_1.FileEngine,\n    FileSystemEngine: engine_1.FileSystemEngine,\n    IndexedDBEngine: engine_1.IndexedDBEngine,\n    LocalStorageEngine: engine_1.LocalStorageEngine,\n    MemoryEngine: engine_1.MemoryEngine,\n    Store: {\n        ExpiredBundle: store_1.ExpiredBundle,\n        RecordAlreadyExistsError: error_1.RecordAlreadyExistsError,\n        TransientBundle: store_1.TransientBundle,\n        TransientStore: store_1.TransientStore,\n    },\n    error: {\n        LowDiskSpaceError: error_1.LowDiskSpaceError,\n        PathValidationError: error_1.PathValidationError,\n        RecordAlreadyExistsError: error_1.RecordAlreadyExistsError,\n        RecordNotFoundError: error_1.RecordNotFoundError,\n        RecordTypeError: error_1.RecordTypeError,\n        UnsupportedError: error_1.UnsupportedError,\n    },\n};\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LowDiskSpaceError_1 = require(\"./LowDiskSpaceError\");\nexports.LowDiskSpaceError = LowDiskSpaceError_1.default;\nvar PathValidationError_1 = require(\"./PathValidationError\");\nexports.PathValidationError = PathValidationError_1.default;\nvar RecordAlreadyExistsError_1 = require(\"./RecordAlreadyExistsError\");\nexports.RecordAlreadyExistsError = RecordAlreadyExistsError_1.default;\nvar RecordNotFoundError_1 = require(\"./RecordNotFoundError\");\nexports.RecordNotFoundError = RecordNotFoundError_1.default;\nvar RecordTypeError_1 = require(\"./RecordTypeError\");\nexports.RecordTypeError = RecordTypeError_1.default;\nvar UnsupportedError_1 = require(\"./UnsupportedError\");\nexports.UnsupportedError = UnsupportedError_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isBrowser() {\n    return typeof window !== 'undefined';\n}\nexports.isBrowser = isBrowser;\n//# sourceMappingURL=EnvironmentUtil.js.map","module.exports = Dexie;","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecordAlreadyExistsError = (function (_super) {\n    __extends(RecordAlreadyExistsError, _super);\n    function RecordAlreadyExistsError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, RecordAlreadyExistsError.prototype);\n        _this.code = 1;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return RecordAlreadyExistsError;\n}(Error));\nexports.default = RecordAlreadyExistsError;\n//# sourceMappingURL=RecordAlreadyExistsError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecordNotFoundError = (function (_super) {\n    __extends(RecordNotFoundError, _super);\n    function RecordNotFoundError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, RecordNotFoundError.prototype);\n        _this.code = 2;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return RecordNotFoundError;\n}(Error));\nexports.default = RecordNotFoundError;\n//# sourceMappingURL=RecordNotFoundError.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar TransientBundle = (function () {\n    function TransientBundle() {\n        this.expires = 0;\n    }\n    return TransientBundle;\n}());\nexports.default = TransientBundle;\n//# sourceMappingURL=TransientBundle.js.map","/*! bro-fs v0.4.0 */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fs\"] = factory();\n\telse\n\t\troot[\"fs\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Utils\n */\n\n/**\n * Calls async method of object with convertion callbacks into promise.\n *\n * @param {Object} obj\n * @param {String} method\n * @returns {Promise} promise resolved with returned value\n * (or array of values if callback called with more than one arguments)\n */\nexports.promiseCall = function (obj, method) {\n  if (!obj) {\n    throw new Error('Can\\'t call promisified method \\'' + method + '\\' of ' + obj);\n  }\n  var args = [].slice.call(arguments, 2);\n  return new Promise(function (resolve, reject) {\n    var callback = getCallback(resolve);\n    // create error before call to capture stack\n    var errback = getErrback(new Error(), method, args, reject);\n    var fullArgs = args.concat([callback, errback]);\n    return obj[method].apply(obj, fullArgs);\n  });\n};\n\nexports.parsePath = function (path) {\n  var parts = exports.splitPath(path);\n  var fileName = parts.pop();\n  var dirPath = parts.join('/');\n  return { dirPath: dirPath, fileName: fileName };\n};\n\nexports.splitPath = function () {\n  var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  path = path.replace(/^\\.\\//, ''); // remove './' at start\n  if (path.length > 1 && path.endsWith('/')) {\n    throw new Error('Path can not end with \\'/\\'');\n  }\n  return path.split('/').filter(Boolean);\n};\n\n/**\n * Create callback. Resolve should always be called with single argument:\n * - if underling callback called with zero or one argument - resolve call with the same\n * - if underling callback called with multiple arguments - resolve call with array of arguments\n *\n * See: https://github.com/vitalets/bro-fs/issues/7\n */\nfunction getCallback(resolve) {\n  return function () {\n    // not leaking arguments copy\n    // see: https://github.com/petkaantonov/bluebird/wiki/Optimization-killers#3-managing-arguments\n    var i = arguments.length;\n    var args = [];\n    while (i--) {\n      args[i] = arguments[i];\n    }\n    if (args.length === 0) {\n      resolve();\n    } else if (args.length === 1) {\n      resolve(args[0]);\n    } else {\n      resolve(args);\n    }\n  };\n}\n\n/**\n * Convert DOMException to regular error to have normal stack trace\n * Also add some details to error message\n */\nfunction getErrback(err, method, args, reject) {\n  return function (e) {\n    var argsStr = '';\n    try {\n      argsStr = JSON.stringify(args);\n    } catch (ex) {\n      argsStr = args.join(', ');\n    }\n    err.name = e.name;\n    err.message = e.message + ' Call: ' + method + '(' + argsStr + ')';\n    reject(err);\n  };\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Errors\n */\n\nexports.isNotFoundError = function (e) {\n  return e && e.name === 'NotFoundError';\n};\n\nexports.isTypeMismatchError = function (e) {\n  return e && e.name === 'TypeMismatchError';\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Store link to fs root (singleton)\n */\n\nvar root = null;\nvar type = null;\n\nexports.get = function () {\n  if (!root) {\n    throw new Error('Filesystem not initialized.');\n  } else {\n    return root;\n  }\n};\n\nexports.set = function (newRoot, newType) {\n  root = newRoot;\n  type = newType;\n};\n\nexports.getType = function () {\n  return type;\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Operations with directories\n */\n\nvar utils = __webpack_require__(0);\nvar errors = __webpack_require__(1);\nvar root = __webpack_require__(2);\n\n/**\n * Returns DirectoryEntry by path\n * If options.create = true will create missing directories\n *\n * @param {String} path\n * @param {Object} options\n * @param {Boolean} options.create\n * @returns {Promise}\n */\nexports.get = function (path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (path && typeof path !== 'string') {\n    return path.isDirectory ? Promise.resolve(path) : Promise.reject(new DOMError('TypeMismatchError', 'Expected directory but got file'));\n  }\n  var parts = utils.splitPath(path);\n  return parts.reduce(function (res, dirName) {\n    return res.then(function (dir) {\n      var task = getChildDir(dir, dirName);\n      if (options.create) {\n        task = task.catch(function (e) {\n          return errors.isNotFoundError(e) ? createChildDir(dir, dirName) : Promise.reject(e);\n        });\n      }\n      return task;\n    });\n  }, Promise.resolve(root.get()));\n};\n\n/**\n * Reads dir entries\n *\n * @param {Object} dir\n */\nexports.read = function (dir) {\n  return utils.promiseCall(dir.createReader(), 'readEntries');\n};\n\n/**\n * Reads dir entries deeply\n *\n * @param {Object} dir\n * @returns {Promise<Array>}\n */\nexports.readDeep = function (dir) {\n  return exports.read(dir).then(function (entries) {\n    var tasks = entries.map(function (entry) {\n      if (entry.isDirectory) {\n        return exports.readDeep(entry).then(function (subEntries) {\n          return Object.assign(entry, { children: subEntries });\n        });\n      } else {\n        return Promise.resolve(entry);\n      }\n    });\n    return Promise.all(tasks);\n  });\n};\n\nfunction createChildDir(parent, dirName) {\n  return utils.promiseCall(parent, 'getDirectory', dirName, { create: true, exclusive: false });\n}\n\nfunction getChildDir(parent, dirName) {\n  return utils.promiseCall(parent, 'getDirectory', dirName, { create: false });\n}\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * HTML5 Filesystem API\n * @module fs\n */\n\nvar utils = __webpack_require__(0);\nvar errors = __webpack_require__(1);\nvar root = __webpack_require__(2);\nvar file = __webpack_require__(5);\nvar directory = __webpack_require__(3);\nvar stat = __webpack_require__(6);\nvar quota = __webpack_require__(7);\n\n/**\n * Is filesystem API supported by current browser\n *\n * @returns {Boolean}\n */\nexports.isSupported = function () {\n  return Boolean(window.webkitRequestFileSystem);\n};\n\n/**\n * Init filesystem\n *\n * @param {Object} [options]\n * @param {Number} [options.type=window.PERSISTENT] window.PERSISTENT | window.TEMPORARY\n * @param {Number} [options.bytes=1Mb]\n * @param {Boolean} [options.requestQuota=true] show request quota popup for PERSISTENT type.\n * (for Chrome extensions with `unlimitedStorage` permission it is useful to pass options.requestQuota = false)\n * @returns {Promise}\n */\nexports.init = function () {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var type = options.hasOwnProperty('type') ? options.type : window.PERSISTENT;\n  var bytes = options.bytes || 1024 * 1024;\n  assertType(type);\n  var shouldRequestQuota = type === window.PERSISTENT ? options.hasOwnProperty('requestQuota') ? options.requestQuota : true : false;\n  return Promise.resolve().then(function () {\n    return shouldRequestQuota ? quota.requestPersistent(bytes) : bytes;\n  })\n  // webkitRequestFileSystem always returns fs even if quota not granted\n  .then(function (grantedBytes) {\n    return utils.promiseCall(window, 'webkitRequestFileSystem', type, grantedBytes);\n  }).then(function (fs) {\n    root.set(fs.root, type);\n    return fs;\n  });\n};\n\n/**\n * Gets used and granted bytes\n *\n * @returns {Promise<{usedBytes, grantedBytes}>}\n */\nexports.usage = function () {\n  return quota.usage(root.getType());\n};\n\n/**\n * Returns root directory\n *\n * @returns {FileSystemDirectoryEntry}\n */\nexports.getRoot = function () {\n  return root.get();\n};\n\n/**\n * Reads file content.\n * - `options.type='Blob'` returns a immutable snapshot of the file. Slower but safer.\n * - `options.type='File'` returns a mutable instance of {@link https://developer.mozilla.org/en-US/docs/Web/API/File File}. Faster but may have a data race.\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {String} [options.type='Text'] how content should be read: Text|ArrayBuffer|BinaryString|DataURL|Blob|File\n * @returns {Promise<String>}\n */\nexports.readFile = function (path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return file.get(path).then(function (fileEntry) {\n    return file.read(fileEntry, options);\n  });\n};\n\n/**\n * Writes data to file\n *\n * @param {String} path\n * @param {String|Blob|File|ArrayBuffer} data\n * @returns {Promise}\n */\nexports.writeFile = function (path, data) {\n  return file.get(path, { create: true, overwrite: true }).then(function (fileEntry) {\n    return file.write(fileEntry, data, { append: false });\n  });\n};\n\n/**\n * Appends data to file\n *\n * @param {String|FileSystemFileEntry} path\n * @param {String|Blob|File|ArrayBuffer} data\n * @returns {Promise}\n */\nexports.appendFile = function (path, data) {\n  return file.get(path, { create: true, overwrite: false }).then(function (fileEntry) {\n    return file.write(fileEntry, data, { append: true });\n  });\n};\n\n/**\n * Removes file\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {Promise}\n */\nexports.unlink = function (path) {\n  return file.get(path).then(function (fileEntry) {\n    return utils.promiseCall(fileEntry, 'remove');\n  }, function (e) {\n    return errors.isNotFoundError(e) ? Promise.resolve(false) : Promise.reject(e);\n  });\n};\n\n/**\n * Renames file or directory\n *\n * @param {String|FileSystemEntry} oldPath\n * @param {String} newPath\n * @param {Object} [options]\n * @param {Boolean} [options.create=false] create missing directories\n * @returns {Promise<FileSystemEntry>}\n */\nexports.rename = function (oldPath, newPath) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return moveOrCopy(oldPath, newPath, 'moveTo', options);\n};\n\n/**\n * Copies file or directory\n *\n * @param {String|FileSystemEntry} oldPath\n * @param {String} newPath\n * @param {Object} [options]\n * @param {Boolean} [options.create=false] create missing directories\n * @returns {Promise<FileSystemEntry>}\n */\nexports.copy = function (oldPath, newPath) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return moveOrCopy(oldPath, newPath, 'copyTo', options);\n};\n\n/**\n * Removes directory recursively\n *\n * @param {String|FileSystemDirectoryEntry} path\n * @returns {Promise}\n */\nexports.rmdir = function (path) {\n  return directory.get(path).then(function (dir) {\n    return dir === root.get() ? Promise.reject('Can not remove root. Use clear() to clear fs.') : utils.promiseCall(dir, 'removeRecursively');\n  }, function (e) {\n    return errors.isNotFoundError(e) ? Promise.resolve(false) : Promise.reject(e);\n  });\n};\n\n/**\n * Creates new directory. If directory already exists - it will not be overwritten.\n *\n * @param {String} path\n * @returns {Promise<FileSystemDirectoryEntry>}\n */\nexports.mkdir = function (path) {\n  return directory.get(path, { create: true });\n};\n\n/**\n * Checks that file or directory exists by provided path\n *\n * @param {String} path\n * @returns {Promise<Boolean>}\n */\nexports.exists = function (path) {\n  return exports.getEntry(path).then(function () {\n    return true;\n  }, function (e) {\n    return errors.isNotFoundError(e) ? false : Promise.reject(e);\n  });\n};\n\n/**\n * Gets info about file or directory\n *\n * @param {String|FileSystemEntry} path\n * @returns {Promise<StatObject>}\n */\nexports.stat = function (path) {\n  return exports.getEntry(path).then(function (entry) {\n    return stat.get(entry);\n  });\n};\n\n/**\n * Reads directory content\n *\n * @param {String|FileSystemDirectoryEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.deep=false] read recursively and attach data as `children` property\n * @returns {Promise<Array<FileSystemEntry>>}\n */\nexports.readdir = function (path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return directory.get(path).then(function (dir) {\n    return options.deep ? directory.readDeep(dir) : directory.read(dir);\n  });\n};\n\n/**\n * Clears whole filesystem\n * @returns {Promise}\n */\nexports.clear = function () {\n  return exports.readdir('/').then(function (entries) {\n    var tasks = entries.map(function (entry) {\n      return entry.isDirectory ? utils.promiseCall(entry, 'removeRecursively') : utils.promiseCall(entry, 'remove');\n    });\n    return Promise.all(tasks);\n  });\n};\n\n/**\n * Gets URL for path\n *\n * @param {String|FileSystemEntry} path\n * @returns {String}\n */\nexports.getUrl = function (path) {\n  return exports.getEntry(path).then(function (entry) {\n    return entry.toURL();\n  });\n};\n\n/**\n * Gets file or directory\n *\n * @param {String|FileSystemEntry} path\n * @returns {Promise<FileSystemEntry>}\n */\nexports.getEntry = function (path) {\n  return file.get(path).catch(function (e) {\n    return errors.isTypeMismatchError(e) ? directory.get(path) : Promise.reject(e);\n  });\n};\n\n/**\n * Create a {@link https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream ReadableStream} for reading\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {ReadableStream}\n */\nexports.createReadStream = function (path) {\n  return file.createReadStream(path);\n};\n\n/**\n * Create a {@link https://developer.mozilla.org/en-US/docs/Web/API/WritableStream WritableStream} for writing\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {WritableStream}\n */\nexports.createWriteStream = function (path) {\n  return file.createWriteStream(path);\n};\n\nfunction moveOrCopy(oldPath, newPath, method, options) {\n  if (oldPath === newPath) {\n    // runtyper-disable-line\n    return Promise.resolve();\n  }\n\n  var _utils$parsePath = utils.parsePath(newPath),\n      newParentDirPath = _utils$parsePath.dirPath,\n      newName = _utils$parsePath.fileName;\n\n  return Promise.all([exports.getEntry(oldPath), directory.get(newParentDirPath, options)]).then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        enrty = _ref2[0],\n        newParent = _ref2[1];\n\n    return utils.promiseCall(enrty, method, newParent, newName);\n  });\n}\n\nfunction assertType(type) {\n  if (type !== window.PERSISTENT && type !== window.TEMPORARY) {\n    throw new Error('Unknown storage type ' + type);\n  }\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Operations with files\n */\n\nvar utils = __webpack_require__(0);\nvar errors = __webpack_require__(1);\nvar directory = __webpack_require__(3);\n\n/**\n * Returns FileEntry by path\n * If options.create = true will create missing directories and file\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.create]\n * @param {Boolean} [options.overwrite]\n * @returns {Promise}\n */\nexports.get = function (path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (path && typeof path !== 'string') {\n    return path.isFile ? Promise.resolve(path) : Promise.reject(new DOMError('TypeMismatchError', 'Expected file but got directory'));\n  }\n\n  var _utils$parsePath = utils.parsePath(path),\n      dirPath = _utils$parsePath.dirPath,\n      fileName = _utils$parsePath.fileName;\n\n  return Promise.resolve().then(function () {\n    return directory.get(dirPath, options);\n  }).then(function (dir) {\n    if (options.create) {\n      if (options.overwrite) {\n        return createChildFile(dir, fileName);\n      } else {\n        return getChildFile(dir, fileName).catch(function (e) {\n          return errors.isNotFoundError(e) ? createChildFile(dir, fileName) : Promise.reject(e);\n        });\n      }\n    } else {\n      return getChildFile(dir, fileName);\n    }\n  });\n};\n\n/**\n * Writes to fileEntry using fileWriter\n *\n * @param {Object} fileEntry\n * @param {String} data\n * @param {Object} [options]\n * @param {Boolean} [options.append]\n * @param {String} [options.type] mimetype\n * @returns {Promise}\n */\nexports.write = function (fileEntry, data) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  return utils.promiseCall(fileEntry, 'createWriter').then(function (fileWriter) {\n    return new Promise(function (resolve, reject) {\n      if (options.append) {\n        fileWriter.seek(fileWriter.length);\n        fileWriter.onwriteend = resolve;\n      } else {\n        var truncated = false;\n        fileWriter.onwriteend = function () {\n          if (!truncated) {\n            truncated = true;\n            this.truncate(this.position);\n          } else {\n            resolve();\n          }\n        };\n      }\n      fileWriter.onerror = reject;\n      var blob = new Blob([data], { type: getMimeTypeByData(data) });\n      fileWriter.write(blob);\n    });\n  }).then(function () {\n    return fileEntry;\n  });\n};\n\n/**\n * Reads from fileEntry\n * \n * `options.type='Blob'` returns a snapshot of the file. Slower but safer.\n * \n * `options.type='File'` returns a real-time reference without any r/w lock. Faster but may have a data race.\n *\n * @param {Object} fileEntry\n * @param {Object} [options]\n * @param {String} [options.type] how content should be read\n * @returns {Promise<String>}\n */\nexports.read = function (fileEntry) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return utils.promiseCall(fileEntry, 'file').then(function (file) {\n    if (options.type === 'Blob') {\n      // see /test/file-vs-blob.js for why we need to \"freeze\" a Blob\n      return freezeMutableFile(file);\n    } else if (options.type === 'File') {\n      return file;\n    } else {\n      return new Promise(function (resolve, reject) {\n        var reader = new FileReader();\n        reader.onload = function () {\n          return resolve(reader.result);\n        };\n        reader.onerror = function () {\n          return reject(reader.error);\n        };\n        // see: https://developer.mozilla.org/ru/docs/Web/API/FileReader\n        readAs(options.type, reader, file);\n      });\n    }\n  });\n};\n\n/**\n * Create a ReadableStream from path or fileEntry\n *\n * @param {String|FileSystemFileEntry} path\n * @returns {ReadableStream}\n */\nexports.createReadStream = function (path) {\n  /* global TransformStream:false */\n  var _ref = new TransformStream(),\n      readable = _ref.readable,\n      writable = _ref.writable;\n\n  exports.get(path).then(function (fileEntry) {\n    return utils.promiseCall(fileEntry, 'file');\n  }).then(function (file) {\n    return new Response(file).body.pipeTo(writable);\n  }).catch(function (e) {\n    return writable.abort(e);\n  });\n  return readable;\n};\n\n/**\n * Create a WritableStream from fileEntry\n *\n * @param {String|FileSystemFileEntry} path\n * @param {Object} [options]\n * @param {Boolean} [options.append]\n * @param {String} [options.type] mimetype\n * @returns {WritableStream}\n */\nexports.createWriteStream = function (path) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  return new WritableStream({\n    start: function start() {\n      var _this = this;\n\n      return exports.get(path, { create: true, overwrite: true }).then(function (fileEntry) {\n        return utils.promiseCall(fileEntry, 'createWriter');\n      }).then(function (fileWriter) {\n        _this.fileWriter = fileWriter;\n        if (options.append) {\n          fileWriter.seek(fileWriter.length);\n        }\n      });\n    },\n    write: function write(data) {\n      var _this2 = this;\n\n      return new Promise(function (resolve, reject) {\n        var blob = new Blob([data], { type: getMimeTypeByData(data) });\n        _this2.fileWriter.onwriteend = resolve;\n        _this2.fileWriter.onerror = reject;\n        _this2.fileWriter.write(blob);\n      });\n    },\n    close: function close() {\n      var _this3 = this;\n\n      return new Promise(function (resolve, reject) {\n        _this3.fileWriter.onwriteend = resolve;\n        _this3.fileWriter.onerror = reject;\n        _this3.fileWriter.truncate(_this3.fileWriter.position);\n      });\n    }\n  });\n};\n\nfunction getMimeTypeByData(data) {\n  if (typeof data === 'string') {\n    return 'text/plain';\n  } else {\n    return 'application/octet-binary';\n  }\n}\n\nfunction readAs(type, reader, file) {\n  switch (type) {\n    case 'ArrayBuffer':\n      return reader.readAsArrayBuffer(file);\n    case 'BinaryString':\n      return reader.readAsBinaryString(file);\n    case 'DataURL':\n      return reader.readAsDataURL(file);\n    case 'Text':\n    default:\n      return reader.readAsText(file);\n  }\n}\n\nfunction freezeMutableFile(file) {\n  // I tried different APIs, but they either require reading the\n  // entire Blob into a buffer, or do not (deep) clone the Blob\n  // at all. Response is so far the best I can find.\n\n  return new Response(file).blob();\n}\n\nfunction createChildFile(parent, fileName) {\n  return utils.promiseCall(parent, 'getFile', fileName, { create: true, exclusive: false });\n}\n\nfunction getChildFile(parent, fileName) {\n  return utils.promiseCall(parent, 'getFile', fileName, { create: false });\n}\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Stat for file or directory\n */\n\nvar utils = __webpack_require__(0);\n\n/**\n * Gets stat info\n *\n * @param {FileSystemEntry} entry\n * @returns {Promise<StatObject>}\n */\nexports.get = function (entry) {\n  return utils.promiseCall(entry, 'getMetadata').then(function (metadata) {\n    return {\n      isFile: entry.isFile,\n      isDirectory: entry.isDirectory,\n      name: entry.name,\n      fullPath: entry.fullPath,\n      modificationTime: metadata.modificationTime,\n      size: metadata.size\n    };\n  });\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n/**\n * Requesting quota\n */\n\nvar utils = __webpack_require__(0);\n\n/**\n * Requesting quota is needed only for persistent storage.\n * See: https://developer.mozilla.org/en-US/docs/Web/API/LocalFileSystem\n *\n * @param {Number} bytes\n * @returns {Promise}\n */\nexports.requestPersistent = function (bytes) {\n  var storage = getStorageByType(window.PERSISTENT);\n  return utils.promiseCall(storage, 'requestQuota', bytes).then(function (grantedBytes) {\n    return grantedBytes > 0 ? grantedBytes : Promise.reject('Quota not granted (requested: ' + bytes + ', granted: ' + grantedBytes + ')');\n  });\n};\n\nexports.usage = function (type) {\n  var storage = getStorageByType(type);\n  return utils.promiseCall(storage, 'queryUsageAndQuota').then(function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        usedBytes = _ref2[0],\n        grantedBytes = _ref2[1];\n\n    return { usedBytes: usedBytes, grantedBytes: grantedBytes };\n  });\n};\n\nfunction getStorageByType(type) {\n  return type === window.PERSISTENT ? navigator.webkitPersistentStorage : navigator.webkitTemporaryStorage;\n}\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=bro-fs.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar FileEngine_1 = require(\"./FileEngine\");\nexports.FileEngine = FileEngine_1.default;\nvar FileSystemEngine_1 = require(\"./FileSystemEngine\");\nexports.FileSystemEngine = FileSystemEngine_1.default;\nvar IndexedDBEngine_1 = require(\"./IndexedDBEngine\");\nexports.IndexedDBEngine = IndexedDBEngine_1.default;\nvar LocalStorageEngine_1 = require(\"./LocalStorageEngine\");\nexports.LocalStorageEngine = LocalStorageEngine_1.default;\nvar MemoryEngine_1 = require(\"./MemoryEngine\");\nexports.MemoryEngine = MemoryEngine_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fs = require(\"fs-extra\");\nvar path = require(\"path\");\nvar EnvironmentUtil_1 = require(\"./EnvironmentUtil\");\nvar error_1 = require(\"./error/\");\nvar FileEngine = (function () {\n    function FileEngine(baseDirectory) {\n        if (baseDirectory === void 0) { baseDirectory = './'; }\n        this.baseDirectory = baseDirectory;\n        this.storeName = '';\n        this.options = {\n            fileExtension: '.dat',\n        };\n    }\n    FileEngine.prototype.isSupported = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var message;\n            return __generator(this, function (_a) {\n                if (EnvironmentUtil_1.isBrowser()) {\n                    message = \"Node.js File System Module is not available on your platform.\";\n                    throw new error_1.UnsupportedError(message);\n                }\n                return [2];\n            });\n        });\n    };\n    FileEngine.prototype.init = function (storeName, options) {\n        if (storeName === void 0) { storeName = ''; }\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.isSupported()];\n                    case 1:\n                        _a.sent();\n                        FileEngine.enforcePathRestrictions(this.baseDirectory, storeName);\n                        this.storeName = FileEngine.path.resolve(this.baseDirectory, storeName);\n                        return [4, fs.ensureDir(this.storeName)];\n                    case 2:\n                        _a.sent();\n                        this.options = __assign({}, this.options, options);\n                        return [2, Promise.resolve(this.storeName)];\n                }\n            });\n        });\n    };\n    FileEngine.prototype.purge = function () {\n        return fs.remove(this.storeName);\n    };\n    FileEngine.enforcePathRestrictions = function (givenTrustedRoot, givenPath) {\n        var trustedRoot = FileEngine.path.resolve(givenTrustedRoot);\n        var trustedRootDetails = FileEngine.path.parse(trustedRoot);\n        if (trustedRootDetails.root === trustedRootDetails.dir && trustedRootDetails.base === '') {\n            var message = \"\\\"\" + trustedRoot + \"\\\" cannot be the root of the filesystem.\";\n            throw new error_1.PathValidationError(message);\n        }\n        var unsafePath = FileEngine.path.resolve(trustedRoot, givenPath);\n        if (unsafePath.startsWith(trustedRoot) === false) {\n            var message = \"Path traversal has been detected. Allowed path was \\\"\" + trustedRoot + \"\\\" but tested path \\\"\" + givenPath + \"\\\" attempted to reach \\\"\" + unsafePath + \"\\\"\";\n            throw new error_1.PathValidationError(message);\n        }\n        return unsafePath;\n    };\n    FileEngine.prototype.resolvePath = function (tableName, primaryKey) {\n        var _this = this;\n        if (primaryKey === void 0) { primaryKey = ''; }\n        return new Promise(function (resolve, reject) {\n            var tableNamePath = FileEngine.enforcePathRestrictions(_this.storeName, tableName);\n            var primaryKeyPath = FileEngine.enforcePathRestrictions(tableNamePath, primaryKey ? \"\" + primaryKey + _this.options.fileExtension : '');\n            return resolve(primaryKeyPath);\n        });\n    };\n    FileEngine.prototype.create = function (tableName, primaryKey, entity) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            if (entity) {\n                _this.resolvePath(tableName, primaryKey)\n                    .then(function (filePath) {\n                    if (typeof entity === 'object') {\n                        try {\n                            entity = JSON.stringify(entity);\n                        }\n                        catch (error) {\n                            entity = entity.toString();\n                        }\n                    }\n                    fs.writeFile(filePath, entity, { flag: 'wx' }, function (error) {\n                        if (error) {\n                            if (error.code === 'ENOENT') {\n                                fs.outputFile(filePath, entity)\n                                    .then(function () { return resolve(primaryKey); })\n                                    .catch(function (error) { return reject(error); });\n                            }\n                            else if (error.code === 'EEXIST') {\n                                var message = \"Record \\\"\" + primaryKey + \"\\\" already exists in \\\"\" + tableName + \"\\\". You need to delete the record first if you want to overwrite it.\";\n                                reject(new error_1.RecordAlreadyExistsError(message));\n                            }\n                            else {\n                                reject(error);\n                            }\n                        }\n                        else {\n                            resolve(primaryKey);\n                        }\n                    });\n                })\n                    .catch(reject);\n            }\n            else {\n                var message = \"Record \\\"\" + primaryKey + \"\\\" cannot be saved in \\\"\" + tableName + \"\\\" because it's \\\"undefined\\\" or \\\"null\\\".\";\n                reject(new error_1.RecordTypeError(message));\n            }\n        });\n    };\n    FileEngine.prototype.delete = function (tableName, primaryKey) {\n        return this.resolvePath(tableName, primaryKey).then(function (file) {\n            return fs.remove(file).then(function () { return primaryKey; });\n        });\n    };\n    FileEngine.prototype.deleteAll = function (tableName) {\n        return this.resolvePath(tableName).then(function (directory) {\n            return fs\n                .remove(directory)\n                .then(function () { return true; })\n                .catch(function () { return false; });\n        });\n    };\n    FileEngine.prototype.read = function (tableName, primaryKey) {\n        return this.resolvePath(tableName, primaryKey).then(function (file) {\n            return new Promise(function (resolve, reject) {\n                fs.readFile(file, { encoding: 'utf8', flag: 'r' }, function (error, data) {\n                    if (error) {\n                        if (error.code === 'ENOENT') {\n                            var message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n                            reject(new error_1.RecordNotFoundError(message));\n                        }\n                        else {\n                            reject(error);\n                        }\n                    }\n                    else {\n                        try {\n                            data = JSON.parse(data);\n                        }\n                        catch (error) {\n                        }\n                        resolve(data);\n                    }\n                });\n            });\n        });\n    };\n    FileEngine.prototype.readAll = function (tableName) {\n        var _this = this;\n        return this.resolvePath(tableName).then(function (directory) {\n            return new Promise(function (resolve, reject) {\n                fs.readdir(directory, function (error, files) {\n                    if (error) {\n                        return reject(error);\n                    }\n                    else {\n                        var recordNames = files.map(function (file) { return FileEngine.path.basename(file, FileEngine.path.extname(file)); });\n                        var promises = recordNames.map(function (primaryKey) { return _this.read(tableName, primaryKey); });\n                        return Promise.all(promises).then(function (records) { return resolve(records); });\n                    }\n                });\n            });\n        });\n    };\n    FileEngine.prototype.readAllPrimaryKeys = function (tableName) {\n        return this.resolvePath(tableName).then(function (directory) {\n            return new Promise(function (resolve) {\n                fs.readdir(directory, function (error, files) {\n                    if (error) {\n                        if (error.code === 'ENOENT') {\n                            resolve([]);\n                        }\n                        else {\n                            throw error;\n                        }\n                    }\n                    else {\n                        var fileNames = files.map(function (file) { return FileEngine.path.parse(file).name; });\n                        resolve(fileNames);\n                    }\n                });\n            });\n        });\n    };\n    FileEngine.prototype.append = function (tableName, primaryKey, additions) {\n        var _this = this;\n        return this.resolvePath(tableName, primaryKey).then(function (file) {\n            return _this.read(tableName, primaryKey)\n                .then(function (record) {\n                if (typeof record === 'string') {\n                    record += additions;\n                }\n                else {\n                    var message = \"Cannot append text to record \\\"\" + primaryKey + \"\\\" because it's not a string.\";\n                    throw new error_1.RecordTypeError(message);\n                }\n                return record;\n            })\n                .then(function (updatedRecord) { return fs.outputFile(file, updatedRecord); })\n                .then(function () { return primaryKey; });\n        });\n    };\n    FileEngine.prototype.update = function (tableName, primaryKey, changes) {\n        var _this = this;\n        return this.resolvePath(tableName, primaryKey).then(function (file) {\n            return _this.read(tableName, primaryKey)\n                .then(function (record) {\n                if (typeof record === 'string') {\n                    record = JSON.parse(record);\n                }\n                var updatedRecord = __assign({}, record, changes);\n                return JSON.stringify(updatedRecord);\n            })\n                .then(function (updatedRecord) { return fs.outputFile(file, updatedRecord); })\n                .then(function () { return primaryKey; });\n        });\n    };\n    FileEngine.prototype.updateOrCreate = function (tableName, primaryKey, changes) {\n        var _this = this;\n        return this.update(tableName, primaryKey, changes)\n            .catch(function (error) {\n            if (error instanceof error_1.RecordNotFoundError) {\n                return _this.create(tableName, primaryKey, changes);\n            }\n            throw error;\n        })\n            .then(function () { return primaryKey; });\n    };\n    FileEngine.path = path;\n    return FileEngine;\n}());\nexports.default = FileEngine;\n//# sourceMappingURL=FileEngine.js.map","module.exports = {};","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LowDiskSpaceError = (function (_super) {\n    __extends(LowDiskSpaceError, _super);\n    function LowDiskSpaceError(message) {\n        if (message === void 0) { message = 'Not enough storage to save the record.'; }\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, LowDiskSpaceError.prototype);\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return LowDiskSpaceError;\n}(Error));\nexports.default = LowDiskSpaceError;\n//# sourceMappingURL=LowDiskSpaceError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar PathValidationError = (function (_super) {\n    __extends(PathValidationError, _super);\n    function PathValidationError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, PathValidationError.prototype);\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return PathValidationError;\n}(Error));\nexports.default = PathValidationError;\n//# sourceMappingURL=PathValidationError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar RecordTypeError = (function (_super) {\n    __extends(RecordTypeError, _super);\n    function RecordTypeError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, RecordTypeError.prototype);\n        _this.code = 3;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return RecordTypeError;\n}(Error));\nexports.default = RecordTypeError;\n//# sourceMappingURL=RecordTypeError.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar UnsupportedError = (function (_super) {\n    __extends(UnsupportedError, _super);\n    function UnsupportedError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.message = message;\n        Object.setPrototypeOf(_this, UnsupportedError.prototype);\n        _this.code = 4;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        _this.stack = new Error().stack;\n        return _this;\n    }\n    return UnsupportedError;\n}(Error));\nexports.default = UnsupportedError;\n//# sourceMappingURL=UnsupportedError.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar fs = require(\"bro-fs\");\nvar EnvironmentUtil_1 = require(\"./EnvironmentUtil\");\nvar error_1 = require(\"./error/\");\nvar TEN_MEGABYTES = 1024 * 1024 * 10;\nvar FileSystemEngine = (function () {\n    function FileSystemEngine() {\n        this.storeName = '';\n        this.config = {\n            fileExtension: '.dat',\n            size: TEN_MEGABYTES,\n            type: typeof window === 'undefined' ? 0 : window.TEMPORARY,\n        };\n    }\n    FileSystemEngine.prototype.isSupported = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var message;\n            return __generator(this, function (_a) {\n                if (!EnvironmentUtil_1.isBrowser() || !fs.isSupported()) {\n                    message = \"File and Directory Entries API is not available on your platform.\";\n                    throw new error_1.UnsupportedError(message);\n                }\n                return [2];\n            });\n        });\n    };\n    FileSystemEngine.prototype.init = function (storeName, options) {\n        if (storeName === void 0) { storeName = ''; }\n        return __awaiter(this, void 0, void 0, function () {\n            var fileSystem;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.isSupported()];\n                    case 1:\n                        _a.sent();\n                        this.config = __assign({}, this.config, options);\n                        this.storeName = storeName;\n                        return [4, fs.init({ type: this.config.type, bytes: this.config.size })];\n                    case 2:\n                        fileSystem = _a.sent();\n                        return [4, fs.mkdir(this.storeName)];\n                    case 3:\n                        _a.sent();\n                        return [2, fileSystem];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.createDirectoryPath = function (tableName) {\n        return this.storeName + \"/\" + tableName;\n    };\n    FileSystemEngine.prototype.createFilePath = function (tableName, primaryKey) {\n        var directory = this.createDirectoryPath(tableName);\n        return directory + \"/\" + primaryKey + this.config.fileExtension;\n    };\n    FileSystemEngine.prototype.append = function (tableName, primaryKey, additions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var filePath, record, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        filePath = this.createFilePath(tableName, primaryKey);\n                        return [4, this.read(tableName, primaryKey)];\n                    case 1:\n                        record = _a.sent();\n                        if (!(typeof record === 'string')) return [3, 3];\n                        return [4, fs.writeFile(filePath, record + additions)];\n                    case 2:\n                        _a.sent();\n                        return [2, primaryKey];\n                    case 3:\n                        message = \"Cannot append text to record \\\"\" + primaryKey + \"\\\" because it's not a string.\";\n                        throw new error_1.RecordTypeError(message);\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.create = function (tableName, primaryKey, entity) {\n        return __awaiter(this, void 0, void 0, function () {\n            var message, filePath, isExistent, message, data;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!entity) {\n                            message = \"Record \\\"\" + primaryKey + \"\\\" cannot be saved in \\\"\" + tableName + \"\\\" because it's \\\"undefined\\\" or \\\"null\\\".\";\n                            throw new error_1.RecordTypeError(message);\n                        }\n                        filePath = this.createFilePath(tableName, primaryKey);\n                        return [4, fs.exists(filePath)];\n                    case 1:\n                        isExistent = _a.sent();\n                        if (!isExistent) return [3, 2];\n                        message = \"Record \\\"\" + primaryKey + \"\\\" already exists in \\\"\" + tableName + \"\\\". You need to delete the record first if you want to overwrite it.\";\n                        throw new error_1.RecordAlreadyExistsError(message);\n                    case 2:\n                        data = void 0;\n                        try {\n                            data = JSON.stringify(entity);\n                        }\n                        catch (error) {\n                            data = entity.toString();\n                        }\n                        return [4, fs.writeFile(filePath, data)];\n                    case 3:\n                        _a.sent();\n                        return [2, primaryKey];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.delete = function (tableName, primaryKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var filePath;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        filePath = this.createFilePath(tableName, primaryKey);\n                        return [4, fs.unlink(filePath)];\n                    case 1:\n                        _a.sent();\n                        return [2, primaryKey];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.deleteAll = function (tableName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var primaryKeys, promises, _i, primaryKeys_1, primaryKey, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.readAllPrimaryKeys(tableName)];\n                    case 1:\n                        primaryKeys = _a.sent();\n                        promises = [];\n                        for (_i = 0, primaryKeys_1 = primaryKeys; _i < primaryKeys_1.length; _i++) {\n                            primaryKey = primaryKeys_1[_i];\n                            promises.push(this.delete(tableName, primaryKey));\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4, Promise.all(promises)];\n                    case 3:\n                        _a.sent();\n                        return [2, true];\n                    case 4:\n                        error_2 = _a.sent();\n                        return [2, false];\n                    case 5: return [2];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.read = function (tableName, primaryKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var filePath, data, error_3, message;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        filePath = this.createFilePath(tableName, primaryKey);\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4, fs.readFile(filePath, { type: 'Text' })];\n                    case 2:\n                        data = _a.sent();\n                        return [3, 4];\n                    case 3:\n                        error_3 = _a.sent();\n                        message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n                        throw new error_1.RecordNotFoundError(message);\n                    case 4:\n                        try {\n                            return [2, JSON.parse(data)];\n                        }\n                        catch (error) {\n                            return [2, data];\n                        }\n                        return [2];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.readAll = function (tableName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var primaryKeys, promises, _i, primaryKeys_2, primaryKey;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.readAllPrimaryKeys(tableName)];\n                    case 1:\n                        primaryKeys = _a.sent();\n                        promises = [];\n                        for (_i = 0, primaryKeys_2 = primaryKeys; _i < primaryKeys_2.length; _i++) {\n                            primaryKey = primaryKeys_2[_i];\n                            promises.push(this.read(tableName, primaryKey));\n                        }\n                        return [2, Promise.all(promises)];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.readAllPrimaryKeys = function (tableName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var directoryPath, entries, error_4, names, primaryKeys, _i, _a, name_1, nameWithoutExtension;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        directoryPath = this.createDirectoryPath(tableName);\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        return [4, fs.readdir(directoryPath, { deep: true })];\n                    case 2:\n                        entries = _b.sent();\n                        return [3, 4];\n                    case 3:\n                        error_4 = _b.sent();\n                        entries = [];\n                        return [3, 4];\n                    case 4:\n                        names = entries.map(function (entry) { return entry.name; });\n                        primaryKeys = [];\n                        for (_i = 0, _a = names.sort(); _i < _a.length; _i++) {\n                            name_1 = _a[_i];\n                            nameWithoutExtension = name_1.substr(0, name_1.indexOf('.'));\n                            primaryKeys.push(nameWithoutExtension);\n                        }\n                        return [2, primaryKeys];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.update = function (tableName, primaryKey, changes) {\n        var filePath = this.createFilePath(tableName, primaryKey);\n        return this.read(tableName, primaryKey)\n            .then(function (record) {\n            if (typeof record === 'string') {\n                record = JSON.parse(record);\n            }\n            var updatedRecord = __assign({}, record, changes);\n            return JSON.stringify(updatedRecord);\n        })\n            .then(function (updatedRecord) { return fs.writeFile(filePath, updatedRecord); })\n            .then(function () { return primaryKey; });\n    };\n    FileSystemEngine.prototype.purge = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, fs.rmdir(this.storeName)];\n                    case 1:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    FileSystemEngine.prototype.updateOrCreate = function (tableName, primaryKey, changes) {\n        var _this = this;\n        return this.update(tableName, primaryKey, changes)\n            .catch(function (error) {\n            if (error instanceof error_1.RecordNotFoundError) {\n                return _this.create(tableName, primaryKey, changes);\n            }\n            throw error;\n        })\n            .then(function () { return primaryKey; });\n    };\n    return FileSystemEngine;\n}());\nexports.default = FileSystemEngine;\n//# sourceMappingURL=FileSystemEngine.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar dexie_1 = require(\"dexie\");\nvar error_1 = require(\"./error/\");\nvar RecordAlreadyExistsError_1 = require(\"./error/RecordAlreadyExistsError\");\nvar RecordNotFoundError_1 = require(\"./error/RecordNotFoundError\");\nvar IndexedDBEngine = (function () {\n    function IndexedDBEngine() {\n        this.storeName = '';\n    }\n    IndexedDBEngine.prototype.canUseIndexedDB = function () {\n        var platform = typeof global === 'undefined' ? window : global;\n        if ('indexedDB' in platform) {\n            return new Promise(function (resolve, reject) {\n                var name = 'test';\n                var DBOpenRequest = platform.indexedDB.open(name);\n                DBOpenRequest.onerror = function (error) { return reject(error); };\n                DBOpenRequest.onsuccess = function () {\n                    var db = DBOpenRequest.result;\n                    db.close();\n                    var deleteRequest = platform.indexedDB.deleteDatabase(name);\n                    deleteRequest.onerror = function (error) { return reject(error); };\n                    deleteRequest.onsuccess = function () { return resolve(); };\n                };\n            });\n        }\n        else {\n            return Promise.reject(new error_1.UnsupportedError('Could not find indexedDB in global scope'));\n        }\n    };\n    IndexedDBEngine.prototype.hasEnoughQuota = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, quota, usage, diskIsFull, errorMessage;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!('storage' in navigator && 'estimate' in navigator.storage)) return [3, 2];\n                        return [4, navigator.storage.estimate()];\n                    case 1:\n                        _a = _b.sent(), quota = _a.quota, usage = _a.usage;\n                        if (typeof quota === 'number' && typeof usage === 'number') {\n                            diskIsFull = usage >= quota;\n                            if (diskIsFull) {\n                                errorMessage = \"Out of disk space. Using \\\"\" + usage + \"\\\" out of \\\"\" + quota + \"\\\" bytes.\";\n                                return [2, Promise.reject(new error_1.LowDiskSpaceError(errorMessage))];\n                            }\n                        }\n                        _b.label = 2;\n                    case 2: return [2, Promise.resolve()];\n                }\n            });\n        });\n    };\n    IndexedDBEngine.prototype.isSupported = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.canUseIndexedDB()];\n                    case 1:\n                        _a.sent();\n                        return [4, this.hasEnoughQuota()];\n                    case 2:\n                        _a.sent();\n                        return [2];\n                }\n            });\n        });\n    };\n    IndexedDBEngine.prototype.init = function (storeName) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.isSupported()];\n                    case 1:\n                        _a.sent();\n                        return [2, this.assignDb(new dexie_1.default(storeName))];\n                }\n            });\n        });\n    };\n    IndexedDBEngine.prototype.initWithDb = function (db) {\n        return Promise.resolve(this.assignDb(db));\n    };\n    IndexedDBEngine.prototype.assignDb = function (db) {\n        this.db = db;\n        this.storeName = this.db.name;\n        return this.db;\n    };\n    IndexedDBEngine.prototype.purge = function () {\n        return this.db ? this.db.delete() : dexie_1.default.delete(this.storeName);\n    };\n    IndexedDBEngine.prototype.create = function (tableName, primaryKey, entity) {\n        if (entity) {\n            return this.db[tableName].add(entity, primaryKey).catch(function (error) {\n                if (error instanceof dexie_1.default.ConstraintError) {\n                    var message_1 = \"Record \\\"\" + primaryKey + \"\\\" already exists in \\\"\" + tableName + \"\\\". You need to delete the record first if you want to overwrite it.\";\n                    throw new RecordAlreadyExistsError_1.default(message_1);\n                }\n                else if (error instanceof dexie_1.default.AbortError) {\n                    var message_2 = \"Cannot save \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" because there is low disk space.\";\n                    throw new error_1.LowDiskSpaceError(message_2);\n                }\n                else {\n                    throw error;\n                }\n            });\n        }\n        var message = \"Record \\\"\" + primaryKey + \"\\\" cannot be saved in \\\"\" + tableName + \"\\\" because it's \\\"undefined\\\" or \\\"null\\\".\";\n        return Promise.reject(new error_1.RecordTypeError(message));\n    };\n    IndexedDBEngine.prototype.delete = function (tableName, primaryKey) {\n        var _this = this;\n        return Promise.resolve()\n            .then(function () { return _this.db[tableName].delete(primaryKey); })\n            .then(function () { return primaryKey; });\n    };\n    IndexedDBEngine.prototype.deleteAll = function (tableName) {\n        return this.db[tableName].clear().then(function () { return true; });\n    };\n    IndexedDBEngine.prototype.read = function (tableName, primaryKey) {\n        return this.db[tableName].get(primaryKey).then(function (record) {\n            if (record) {\n                return record;\n            }\n            var message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n            throw new RecordNotFoundError_1.default(message);\n        });\n    };\n    IndexedDBEngine.prototype.readAll = function (tableName) {\n        return this.db[tableName].toArray();\n    };\n    IndexedDBEngine.prototype.readAllPrimaryKeys = function (tableName) {\n        return this.db[tableName].toCollection().keys();\n    };\n    IndexedDBEngine.prototype.update = function (tableName, primaryKey, changes) {\n        return this.db[tableName].update(primaryKey, changes).then(function (updatedRecords) {\n            if (updatedRecords === 0) {\n                var message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n                throw new RecordNotFoundError_1.default(message);\n            }\n            return primaryKey;\n        });\n    };\n    IndexedDBEngine.prototype.updateOrCreate = function (tableName, primaryKey, changes) {\n        return this.db[tableName].put(changes, primaryKey);\n    };\n    IndexedDBEngine.prototype.append = function (tableName, primaryKey, additions) {\n        var _this = this;\n        return this.db[tableName].get(primaryKey).then(function (record) {\n            if (typeof record === 'string') {\n                record += additions;\n            }\n            else {\n                var message = \"Cannot append text to record \\\"\" + primaryKey + \"\\\" because it's not a string.\";\n                throw new error_1.RecordTypeError(message);\n            }\n            return _this.updateOrCreate(tableName, primaryKey, record);\n        });\n    };\n    return IndexedDBEngine;\n}());\nexports.default = IndexedDBEngine;\n//# sourceMappingURL=IndexedDBEngine.js.map","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EnvironmentUtil_1 = require(\"./EnvironmentUtil\");\nvar error_1 = require(\"./error/\");\nvar LocalStorageEngine = (function () {\n    function LocalStorageEngine() {\n        this.storeName = '';\n    }\n    LocalStorageEngine.prototype.isSupported = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var message;\n            return __generator(this, function (_a) {\n                if (!EnvironmentUtil_1.isBrowser() || !window.localStorage) {\n                    message = \"LocalStorage is not available on your platform.\";\n                    throw new error_1.UnsupportedError(message);\n                }\n                return [2];\n            });\n        });\n    };\n    LocalStorageEngine.prototype.init = function (storeName) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4, this.isSupported()];\n                    case 1:\n                        _a.sent();\n                        this.storeName = storeName;\n                        return [2, window.localStorage];\n                }\n            });\n        });\n    };\n    LocalStorageEngine.prototype.purge = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                window.localStorage.clear();\n                return [2];\n            });\n        });\n    };\n    LocalStorageEngine.prototype.createKey = function (tableName, primaryKey) {\n        return this.storeName + \"@\" + tableName + \"@\" + primaryKey;\n    };\n    LocalStorageEngine.prototype.create = function (tableName, primaryKey, entity) {\n        if (entity) {\n            var key_1 = this.createKey(tableName, primaryKey);\n            return this.read(tableName, primaryKey)\n                .catch(function (error) {\n                if (error instanceof error_1.RecordNotFoundError) {\n                    return undefined;\n                }\n                throw error;\n            })\n                .then(function (record) {\n                if (record) {\n                    var message_1 = \"Record \\\"\" + primaryKey + \"\\\" already exists in \\\"\" + tableName + \"\\\". You need to delete the record first if you want to overwrite it.\";\n                    throw new error_1.RecordAlreadyExistsError(message_1);\n                }\n                else {\n                    if (typeof record === 'string') {\n                        window.localStorage.setItem(key_1, String(entity));\n                    }\n                    else {\n                        window.localStorage.setItem(key_1, JSON.stringify(entity));\n                    }\n                    return primaryKey;\n                }\n            });\n        }\n        var message = \"Record \\\"\" + primaryKey + \"\\\" cannot be saved in \\\"\" + tableName + \"\\\" because it's \\\"undefined\\\" or \\\"null\\\".\";\n        return Promise.reject(new error_1.RecordTypeError(message));\n    };\n    LocalStorageEngine.prototype.delete = function (tableName, primaryKey) {\n        var _this = this;\n        return Promise.resolve().then(function () {\n            var key = _this.createKey(tableName, primaryKey);\n            window.localStorage.removeItem(key);\n            return primaryKey;\n        });\n    };\n    LocalStorageEngine.prototype.deleteAll = function (tableName) {\n        var _this = this;\n        return Promise.resolve().then(function () {\n            Object.keys(localStorage).forEach(function (key) {\n                var prefix = _this.storeName + \"@\" + tableName + \"@\";\n                if (key.startsWith(prefix)) {\n                    localStorage.removeItem(key);\n                }\n            });\n            return true;\n        });\n    };\n    LocalStorageEngine.prototype.read = function (tableName, primaryKey) {\n        var _this = this;\n        return Promise.resolve().then(function () {\n            var key = _this.storeName + \"@\" + tableName + \"@\" + primaryKey;\n            var record = window.localStorage.getItem(key);\n            if (record) {\n                try {\n                    return JSON.parse(record);\n                }\n                catch (error) {\n                    return record;\n                }\n            }\n            var message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n            throw new error_1.RecordNotFoundError(message);\n        });\n    };\n    LocalStorageEngine.prototype.readAll = function (tableName) {\n        var _this = this;\n        var promises = [];\n        Object.keys(localStorage).forEach(function (key) {\n            var prefix = _this.storeName + \"@\" + tableName + \"@\";\n            if (key.startsWith(prefix)) {\n                var primaryKey = key.replace(prefix, '');\n                promises.push(_this.read(tableName, primaryKey));\n            }\n        });\n        return Promise.all(promises);\n    };\n    LocalStorageEngine.prototype.readAllPrimaryKeys = function (tableName) {\n        var _this = this;\n        var primaryKeys = [];\n        Object.keys(localStorage).forEach(function (primaryKey) {\n            var prefix = _this.storeName + \"@\" + tableName + \"@\";\n            if (primaryKey.startsWith(prefix)) {\n                primaryKeys.push(primaryKey.replace(prefix, ''));\n            }\n        });\n        return Promise.resolve(primaryKeys);\n    };\n    LocalStorageEngine.prototype.update = function (tableName, primaryKey, changes) {\n        var _this = this;\n        return this.read(tableName, primaryKey)\n            .then(function (entity) {\n            return __assign({}, entity, changes);\n        })\n            .then(function (updatedEntity) {\n            return _this.create(tableName, primaryKey, updatedEntity).catch(function (error) {\n                if (error instanceof error_1.RecordAlreadyExistsError) {\n                    return _this.delete(tableName, primaryKey).then(function () { return _this.create(tableName, primaryKey, updatedEntity); });\n                }\n                else {\n                    throw error;\n                }\n            });\n        });\n    };\n    LocalStorageEngine.prototype.updateOrCreate = function (tableName, primaryKey, changes) {\n        var _this = this;\n        return this.update(tableName, primaryKey, changes)\n            .catch(function (error) {\n            if (error instanceof error_1.RecordNotFoundError) {\n                return _this.create(tableName, primaryKey, changes);\n            }\n            throw error;\n        })\n            .then(function () { return primaryKey; });\n    };\n    LocalStorageEngine.prototype.append = function (tableName, primaryKey, additions) {\n        var _this = this;\n        return this.read(tableName, primaryKey).then(function (record) {\n            if (typeof record === 'string') {\n                record += additions;\n            }\n            else {\n                var message = \"Cannot append text to record \\\"\" + primaryKey + \"\\\" because it's not a string.\";\n                throw new error_1.RecordTypeError(message);\n            }\n            var key = _this.createKey(tableName, primaryKey);\n            window.localStorage.setItem(key, record);\n            return primaryKey;\n        });\n    };\n    return LocalStorageEngine;\n}());\nexports.default = LocalStorageEngine;\n//# sourceMappingURL=LocalStorageEngine.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar error_1 = require(\"./error/\");\nvar MemoryEngine = (function () {\n    function MemoryEngine() {\n        this.storeName = '';\n        this.stores = {};\n    }\n    MemoryEngine.prototype.isSupported = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2];\n            });\n        });\n    };\n    MemoryEngine.prototype.init = function (storeName) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                this.storeName = storeName;\n                this.stores[this.storeName] = this.stores[this.storeName] || {};\n                return [2, this.stores];\n            });\n        });\n    };\n    MemoryEngine.prototype.purge = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                delete this.stores[this.storeName];\n                return [2];\n            });\n        });\n    };\n    MemoryEngine.prototype.prepareTable = function (tableName) {\n        if (!this.stores[this.storeName][tableName]) {\n            this.stores[this.storeName][tableName] = {};\n        }\n    };\n    MemoryEngine.prototype.create = function (tableName, primaryKey, entity) {\n        if (entity) {\n            this.prepareTable(tableName);\n            var record = this.stores[this.storeName][tableName][primaryKey];\n            if (record) {\n                var message_1 = \"Record \\\"\" + primaryKey + \"\\\" already exists in \\\"\" + tableName + \"\\\". You need to delete the record first if you want to overwrite it.\";\n                var error = new error_1.RecordAlreadyExistsError(message_1);\n                return Promise.reject(error);\n            }\n            this.stores[this.storeName][tableName][primaryKey] = entity;\n            return Promise.resolve(primaryKey);\n        }\n        var message = \"Record \\\"\" + primaryKey + \"\\\" cannot be saved in \\\"\" + tableName + \"\\\" because it's \\\"undefined\\\" or \\\"null\\\".\";\n        return Promise.reject(new error_1.RecordTypeError(message));\n    };\n    MemoryEngine.prototype.delete = function (tableName, primaryKey) {\n        var _this = this;\n        this.prepareTable(tableName);\n        return Promise.resolve().then(function () {\n            delete _this.stores[_this.storeName][tableName][primaryKey];\n            return primaryKey;\n        });\n    };\n    MemoryEngine.prototype.deleteAll = function (tableName) {\n        var _this = this;\n        return Promise.resolve().then(function () {\n            delete _this.stores[_this.storeName][tableName];\n            return true;\n        });\n    };\n    MemoryEngine.prototype.read = function (tableName, primaryKey) {\n        this.prepareTable(tableName);\n        var record = this.stores[this.storeName][tableName][primaryKey];\n        if (record) {\n            return Promise.resolve(record);\n        }\n        else {\n            var message = \"Record \\\"\" + primaryKey + \"\\\" in \\\"\" + tableName + \"\\\" could not be found.\";\n            return Promise.reject(new error_1.RecordNotFoundError(message));\n        }\n    };\n    MemoryEngine.prototype.readAll = function (tableName) {\n        this.prepareTable(tableName);\n        var promises = [];\n        for (var _i = 0, _a = Object.keys(this.stores[this.storeName][tableName]); _i < _a.length; _i++) {\n            var primaryKey = _a[_i];\n            promises.push(this.read(tableName, primaryKey));\n        }\n        return Promise.all(promises);\n    };\n    MemoryEngine.prototype.readAllPrimaryKeys = function (tableName) {\n        this.prepareTable(tableName);\n        return Promise.resolve(Object.keys(this.stores[this.storeName][tableName]));\n    };\n    MemoryEngine.prototype.update = function (tableName, primaryKey, changes) {\n        var _this = this;\n        this.prepareTable(tableName);\n        return this.read(tableName, primaryKey)\n            .then(function (entity) {\n            return __assign({}, entity, changes);\n        })\n            .then(function (updatedEntity) {\n            _this.stores[_this.storeName][tableName][primaryKey] = updatedEntity;\n            return primaryKey;\n        });\n    };\n    MemoryEngine.prototype.updateOrCreate = function (tableName, primaryKey, changes) {\n        var _this = this;\n        this.prepareTable(tableName);\n        return this.update(tableName, primaryKey, changes)\n            .catch(function (error) {\n            if (error instanceof error_1.RecordNotFoundError) {\n                return _this.create(tableName, primaryKey, changes);\n            }\n            throw error;\n        })\n            .then(function () { return primaryKey; });\n    };\n    MemoryEngine.prototype.append = function (tableName, primaryKey, additions) {\n        var _this = this;\n        this.prepareTable(tableName);\n        return this.read(tableName, primaryKey).then(function (record) {\n            if (typeof record === 'string') {\n                record += additions;\n            }\n            else {\n                var message = \"Cannot append text to record \\\"\" + primaryKey + \"\\\" because it's not a string.\";\n                throw new error_1.RecordTypeError(message);\n            }\n            _this.stores[_this.storeName][tableName][primaryKey] = record;\n            return primaryKey;\n        });\n    };\n    return MemoryEngine;\n}());\nexports.default = MemoryEngine;\n//# sourceMappingURL=MemoryEngine.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExpiredBundle_1 = require(\"./ExpiredBundle\");\nexports.ExpiredBundle = ExpiredBundle_1.default;\nvar TransientBundle_1 = require(\"./TransientBundle\");\nexports.TransientBundle = TransientBundle_1.default;\nvar TransientStore_1 = require(\"./TransientStore\");\nexports.TransientStore = TransientStore_1.default;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ExpiredBundle = (function () {\n    function ExpiredBundle() {\n        this.cacheKey = '';\n        this.primaryKey = '';\n    }\n    return ExpiredBundle;\n}());\nexports.default = ExpiredBundle;\n//# sourceMappingURL=ExpiredBundle.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    }\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar events_1 = require(\"events\");\nvar error_1 = require(\"../engine/error/\");\nvar TransientBundle_1 = require(\"./TransientBundle\");\nvar TransientStore = (function (_super) {\n    __extends(TransientStore, _super);\n    function TransientStore(engine) {\n        var _this = _super.call(this) || this;\n        _this.engine = engine;\n        _this.bundles = {};\n        _this.tableName = '';\n        return _this;\n    }\n    TransientStore.prototype.init = function (tableName) {\n        var _this = this;\n        this.tableName = tableName;\n        var cacheKeys = [];\n        return this.engine\n            .readAllPrimaryKeys(this.tableName)\n            .then(function (primaryKeys) {\n            var readBundles = [];\n            primaryKeys.forEach(function (primaryKey) {\n                var cacheKey = _this.constructCacheKey(primaryKey);\n                cacheKeys.push(cacheKey);\n                readBundles.push(_this.engine.read(_this.tableName, primaryKey));\n            });\n            return Promise.all(readBundles);\n        })\n            .then(function (bundles) { return __awaiter(_this, void 0, void 0, function () {\n            var _a, _b, _i, index, bundle, cacheKey;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = [];\n                        for (_b in bundles)\n                            _a.push(_b);\n                        _i = 0;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < _a.length)) return [3, 4];\n                        index = _a[_i];\n                        bundle = bundles[index];\n                        cacheKey = cacheKeys[index];\n                        return [4, this.startTimer(cacheKey)];\n                    case 2:\n                        _c.sent();\n                        this.bundles[cacheKey] = bundle;\n                        _c.label = 3;\n                    case 3:\n                        _i++;\n                        return [3, 1];\n                    case 4: return [2, bundles];\n                }\n            });\n        }); });\n    };\n    TransientStore.prototype.constructCacheKey = function (primaryKey) {\n        return this.engine.storeName + \"@\" + this.tableName + \"@\" + primaryKey;\n    };\n    TransientStore.prototype.constructPrimaryKey = function (cacheKey) {\n        return cacheKey.replace(this.engine.storeName + \"@\" + this.tableName + \"@\", '');\n    };\n    TransientStore.prototype.createTransientBundle = function (record, ttl) {\n        return {\n            expires: Date.now() + ttl,\n            payload: record,\n        };\n    };\n    TransientStore.prototype.get = function (primaryKey) {\n        var _this = this;\n        return this.getFromCache(primaryKey)\n            .then(function (cachedBundle) {\n            return cachedBundle !== undefined ? cachedBundle : _this.getFromStore(primaryKey);\n        })\n            .catch(function (error) {\n            if (error instanceof error_1.RecordNotFoundError) {\n                return undefined;\n            }\n            throw error;\n        });\n    };\n    TransientStore.prototype.getFromCache = function (primaryKey) {\n        var cacheBundle = this.bundles[this.constructCacheKey(primaryKey)];\n        return Promise.resolve(cacheBundle);\n    };\n    TransientStore.prototype.getFromStore = function (primaryKey) {\n        return this.engine.read(this.tableName, primaryKey);\n    };\n    TransientStore.prototype.set = function (primaryKey, record, ttl) {\n        var _this = this;\n        var bundle = this.createTransientBundle(record, ttl);\n        return new Promise(function (resolve, reject) {\n            return _this.getFromCache(primaryKey).then(function (cachedBundle) {\n                if (cachedBundle) {\n                    var message = \"Record with primary key \\\"\" + primaryKey + \"\\\" already exists in table \\\"\" + _this.tableName + \"\\\" of database \\\"\" + _this.engine.storeName + \"\\\".\";\n                    return reject(new error_1.RecordAlreadyExistsError(message));\n                }\n                else {\n                    return _this.save(primaryKey, bundle)\n                        .then(function (cacheKey) { return Promise.all([cacheKey, _this.startTimer(cacheKey)]); })\n                        .then(function (_a) {\n                        var cacheKey = _a[0], bundle = _a[1];\n                        resolve(_this.saveInCache(cacheKey, bundle));\n                    });\n                }\n            });\n        });\n    };\n    TransientStore.prototype.save = function (primaryKey, bundle) {\n        var cacheKey = this.constructCacheKey(primaryKey);\n        return Promise.all([this.saveInStore(primaryKey, bundle), this.saveInCache(cacheKey, bundle)]).then(function () { return cacheKey; });\n    };\n    TransientStore.prototype.saveInStore = function (primaryKey, bundle) {\n        return this.engine.create(this.tableName, primaryKey, bundle);\n    };\n    TransientStore.prototype.saveInCache = function (cacheKey, bundle) {\n        return (this.bundles[cacheKey] = bundle);\n    };\n    TransientStore.prototype.delete = function (primaryKey) {\n        var cacheKey = this.constructCacheKey(primaryKey);\n        return Promise.all([this.deleteFromStore(primaryKey), this.deleteFromCache(cacheKey)]).then(function () { return cacheKey; });\n    };\n    TransientStore.prototype.deleteFromStore = function (primaryKey) {\n        return this.engine.delete(this.tableName, primaryKey);\n    };\n    TransientStore.prototype.deleteFromCache = function (cacheKey) {\n        var timeoutID = this.bundles[cacheKey] && this.bundles[cacheKey].timeoutID;\n        if (timeoutID) {\n            clearTimeout(timeoutID);\n        }\n        delete this.bundles[cacheKey];\n        return cacheKey;\n    };\n    TransientStore.prototype.expireBundle = function (cacheKey) {\n        var expiredBundle = {\n            cacheKey: cacheKey,\n            payload: this.bundles[cacheKey].payload,\n            primaryKey: this.constructPrimaryKey(cacheKey),\n        };\n        return this.delete(expiredBundle.primaryKey).then(function () { return expiredBundle; });\n    };\n    TransientStore.prototype.startTimer = function (cacheKey) {\n        var _this = this;\n        var primaryKey = this.constructPrimaryKey(cacheKey);\n        return this.get(primaryKey).then(function (bundle) { return __awaiter(_this, void 0, void 0, function () {\n            var expires, timeoutID, timespan;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!bundle) {\n                            bundle = new TransientBundle_1.default();\n                            bundle.expires = 0;\n                            bundle.payload = undefined;\n                        }\n                        expires = bundle.expires, timeoutID = bundle.timeoutID;\n                        timespan = expires - Date.now();\n                        if (!(expires <= 0)) return [3, 2];\n                        return [4, this.expireBundle(cacheKey)];\n                    case 1:\n                        _a.sent();\n                        return [3, 3];\n                    case 2:\n                        if (!timeoutID) {\n                            bundle.timeoutID = setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                                var expiredBundle;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4, this.expireBundle(cacheKey)];\n                                        case 1:\n                                            expiredBundle = _a.sent();\n                                            this.emit(TransientStore.TOPIC.EXPIRED, expiredBundle);\n                                            return [2];\n                                    }\n                                });\n                            }); }, timespan);\n                        }\n                        _a.label = 3;\n                    case 3: return [2, bundle];\n                }\n            });\n        }); });\n    };\n    TransientStore.TOPIC = {\n        EXPIRED: 'expired',\n    };\n    return TransientStore;\n}(events_1.EventEmitter));\nexports.default = TransientStore;\n//# sourceMappingURL=TransientStore.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n"],"sourceRoot":""}